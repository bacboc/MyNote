//백준 팰린드롬?
// dp 어렵다
#include<stdio.h>
#include<stdlib.h>
int arr[2001];
int dp[2001][2001];
int go(int start, int end){
    if(start==end){
        dp[start][end]=1;
        return dp[start][end];
    }
    if(end==start+1){
        if(arr[start]==arr[end]){
            dp[start][end]=1;
        }else{
            dp[start][end]=0;
        }
        return dp[start][end];
    }
    
    if(dp[start][end]!=-1){
        return dp[start][end];
    }else{
        if(arr[start]==arr[end]){
            if(go(start+1, end-1)==1){
                dp[start][end]=1;
            }else{
                dp[start][end]=0;
            }
            return dp[start][end];
        }else{
            dp[start][end]=0;
            return dp[start][end];
        }
    }
}
int main(){
    int T=0;
    scanf("%d",&T);
    for(int t=0; t<T; t++){
        scanf("%d",&arr[t]);
    }
    for(int i=0; i<2001; i++){
        memset(dp[i], -1, sizeof(int)*2001);
    }
    int D =0;
    scanf("%d",&D);
    for(int d=0; d<D; d++){
        int start, end;
        scanf("%d %d", &start, &end);
        printf("%d\n", go(start-1,end-1));
    }
    
    
    return 0;
}